{% extends 'base.html' %}
{% load static %}

{% block content %}
<main class="registro-container" style="max-width: 600px; margin: 40px auto; padding: 20px;">
    <h2 style="text-align: center; margin-bottom: 20px;">Cadastro de Cliente</h2>
    
    <form method="post">
        {% csrf_token %}
        
        {% for field in form %}
        <div class="form-group" style="margin-bottom: 15px;">
            {{ field.label_tag }}
            {{ field }}
            {% if field.errors %}
                <div style="color: red; font-size: 0.9em;">{{ field.errors|striptags }}</div>
            {% endif %}
        </div>
        {% endfor %}
        
        <button type="submit" class="submit-btn" style="display: block; margin: 0 auto;">Cadastrar</button>
    </form>
</main>

<!-- Inputmask via CDN -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/inputmask/5.0.8/inputmask.min.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const numeroInput = document.getElementById("id_numero");

    if (numeroInput) {
      // MÃ¡scara para (11) 91234-5678 ou (11) 1234-5678
      Inputmask({
        mask: "(99) 99999-9999",
        placeholder: " ",
        showMaskOnHover: false,
        showMaskOnFocus: true,
        clearIncomplete: false
      }).mask(numeroInput);
    }
  });
</script>
{% endblock %}
